<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forms</title>
</head>
<body>
    <!-- Opgave 1 -->
    <form action="" id="form1">
        <label>Firstname</label>
        <input type="text" name="firstname">
        <label>Lastname</label>
        <input type="text" name="lastname">
        <input type="submit" value="Submit" name="submit">
    </form>
    <!-- Opgave 2 -->
    <form action="" id="form2">
        <label>Number1</label>
        <input type="text" name="number1">
        <label>Number2</label>
        <input type="text" name="number2">
        <input type="submit" value="Submit" name="submit">
    </form>
    <!-- Opgave 3 -->
    <form action="" id="form3">
        <label>Price</label>
        <input type="text" name="price">
        <input type="submit" value="Submit" name="submit">
    </form>
     <!-- Opgave 4 -->
     <form action="" id="form4">
        <label>Email</label>
        <input type="text" name="email" style="width: 300px;">
        <input type="submit" value="Submit" name="submit">
    </form>


    
    <script>

        //Opgave 1
        const form1 = document.querySelector("#form1")

        form1.addEventListener("submit", function(e){
            e.preventDefault()
            alert(`Firstname: ${form1.firstname.value}\nLastname: ${form1.lastname.value}`)
            form1.submit() // ??? Powerpoint 4/4
        })

         //Opgave 2
        const form2 = document.querySelector("#form2")

        form2.addEventListener("submit", function(e){
            e.preventDefault()
            alert(`Resultatet er: ${Number(form2.number1.value) + Number(form2.number2.value)}`)
            form2.submit() // ??? Powerpoint 4/4
        })

         //Opgave 3
        const form3 = document.querySelector("#form3")

        form3.addEventListener("submit", function(e){
            const discount = 0.10; // Discount 10%
            e.preventDefault()
            let VAT = Number(form3.price.value * 1.25) // VAT 25%
            let finalPrice = VAT * (1 - discount) // Total Price after VAT and discount
            alert(VAT + " " + finalPrice)
            form3.submit() // ??? Powerpoint 4/4
        })

         //Opgave 4
        const form4 = document.querySelector("#form4")

        function verifyEmail(email){
            let regex = /.*@.*\..*/;
            let split = email.split("@")
            if(regex.test(email) && split[0].length >= 2){
                return true
            }
            else{
                return false
            }
        }

        form4.addEventListener("submit", function(e){
            e.preventDefault()

            verifyEmail(form4.email.value) ? alert("Du har indtastet en gyldig email address") : alert("Indtast venligst en gyldig email adresss")

            form4.submit() // ??? Powerpoint 4/4
        })




        
    </script>
</body>
</html>